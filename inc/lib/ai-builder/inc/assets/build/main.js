(0,tt.__)("If you proceed without fixing these issues, you may encounter the same errors again, which could exhaust your AI site creation attempts. If you need help, feel free to contact us %1$s. Do you still want to continue?","astra-sites"),(0,i.renderToString)(oS))}}),(0,n.createElement)(aS,{id:"my-tooltip",className:"z-50 h-fit max-w-96 md:max-w-[544px] !text-[14px]"}),(0,n.createElement)("div",{className:"max-h-52 overflow-y-auto failed-site-container overflow-x-hidden w-auto"},(0,n.createElement)("fieldset",{"aria-label":"Privacy setting",className:"flex flex-col"}),(0,n.createElement)(IE,{value:h,onChange:g,className:"overflow-visible",style:{width:"inherit"}},m?.map(((e,t)=>(0,n.createElement)(IE.Option,{key:e.businessName,value:e,className:({checked:e})=>v(0===t?"rounded-tl-md rounded-tr-md":"",t===m.length-1?"rounded-bl-md rounded-br-md":"","group relative flex cursor-pointer border border-gray-200 px-3 py-[10px] focus:outline-none items-center",e?"bg-zip-app-highlight-bg border-border-tertiary z-10":"")},(({checked:t})=>{return(0,n.createElement)(n.Fragment,null,(0,n.createElement)("span",{className:v(t?"bg-transparent border border-accent-hover-st/80":"bg-transparent border-border-tertiary","flex size-5 cursor-pointer items-center justify-center rounded-full border p-[2px]")},(0,n.createElement)("span",{className:v(t?"size-3.5 rounded-full bg-accent-st":"size-3.5 bg-transparent")})),(0,n.createElement)("span",{className:"ml-3 flex flex-col"},(0,n.createElement)(IE.Label,{as:"span",className:v("block text-sm font-semibold text-slate-900")},e.businessName),(0,n.createElement)(IE.Description,{as:"span",className:v("block text-sm relative group mt-0.5")},(0,n.createElement)("span",{"data-tooltip-id":"my-tooltip","data-tooltip-content":e.businessDesc,className:"block text-sm text-body-text font-normal truncate max-w-96 md:max-w-[544px]"},e.businessDesc)),(0,n.createElement)("p",{className:"text-xs leading-5 font-normal text-secondary-text mt-0.5"},(0,tt.__)("Created On: ","astra-sites")+(r=e.created,new Date(r).toUTCString()))));var r})))))),m?.length>0&&(0,n.createElement)("p",{className:"!my-4 text-xs leading-5 font-normal text-secondary-text flex"},(0,n.createElement)(rr,{className:"w-5 h-5 mr-2"}),(0,tt.__)("Importing saved sites won’t be exhausting your AI site generation count.","astra-sites")),(0,n.createElement)("div",{className:"space-x-4 flex justify-between"},m?.length>0&&(0,n.createElement)(cr,{className:"w-full shadow-lg",variant:"primary",onClick:async()=>{const e=h;await(async e=>{try{const t=await ir()({path:"zipwp/v1/set-step-data",method:"POST",headers:{"X-WP-Nonce":aiBuilderVars.rest_api_nonce},data:{business_details:JSON.stringify(e)}});if(console.log(t),!t.success)throw new Error(t?.data?.data);console.log("Data reset!")}catch(e){hw.error(er(e))}})(e?.step_data),Xt("ai-builder-onboarding-details",e?.local_storage),f({stepData:{...e?.local_storage.stepData}}),s(e),c(e.businessName),d(e?.step_data?.language),u(e?.step_data?.images),p(e?.step_data?.template),l({templateId:e?.uuid,importErrorMessages:{},importErrorResponse:[],importError:!1,reset:!0}),o()}},(0,tt.__)("Retry Import","astra-sites")),(0,n.createElement)(cr,{className:"w-full shadow-lg",variant:v(m?.length>0?"white":"primary"),onClick:()=>{"function"==typeof r&&r()}},(0,tt.__)("Start Building","astra-sites")))))})),sS=e=>({...t})=>{const{preBuildModal:r,handleClosePreBuildModal:a,handleGenerateContent:o,premiumModal:s,setPremiumModal:l,prevErrorAlert:c,setPrevErrorAlertOpen:u,onConfirmErrorAlert:d,handleClickStartBuilding:p,isInProgress:f}=(()=>{const{nextStep:e}=EI(),{setWebsiteInfoAIStep:t,setLimitExceedModal:r,setApiErrorModal:n,updateImportAiSiteData:a}=(0,et.useDispatch)(xn),{siteFeatures:o,stepsData:{businessName:s,selectedImages:l=[],keywords:c=[],businessType:u,businessDetails:d,businessContact:p,selectedTemplate:f,siteLanguage:m,selectedTemplateIsPremium:h,templateList:g},siteFeaturesData:v}=(0,et.useSelect)((e=>{const{getSiteFeaturesData:t,getSiteFeatures:r,getAIStepData:n}=e(xn);return{siteFeatures:r(),stepsData:n(),siteFeaturesData:t()}}),[]),[y,b]=(0,i.useState)(!1),[x,w]=(0,i.useState)({open:!1,skipFeature:!1}),[E,_]=(0,i.useState)(!1),[S,M]=(0,i.useReducer)(((e,t)=>({...e,...t})),{open:!1,error:{},requestData:{}}),N=g?.find((e=>e?.uuid===f)),k="yes"===N?.features?.ecommerce,C="yes"===N?.features?.donations,D=async o=>{if(y)return;b(!0);const i=await(async({template:e,email:t,description:r,name:n,phone:a,address:o,category:i,imageKeyword:s,socialProfiles:l,language:c,images:u,features:d,featuresData:p})=>await ir()({path:"zipwp/v1/site",method:"POST",data:{template:e,business_email:t,business_description:r,business_name:n,business_phone:a,business_address:o,business_category:i,image_keyword:s,social_profiles:l,language:c,images:u,site_features:d,site_features_data:d?.includes("ecommerce")?p:{}}}))(o);if(i.success){const r=i.data.data.site;t(r),a({templateId:r.uuid,importErrorMessages:{},importErrorResponse:[],importError:!1}),br("ai-show-start-over-warning",!0,172800),e()}else{const e=i?.data?.data?.errors,t=i?.data?.http_status_code,a=i?.data?.data?.message,o=i?.data?.data?.code;422===t||403===t?e?n({open:!0,message:a,error:e}):"site_creation_limit_exceeded"===o||a.includes("limit")?r({open:!0}):n({open:!0,error:e}):n({open:!0,message:a,error:e}),b(!1)}},T=(e=!1)=>async()=>{if(y)return;const t=o.filter((t=>e?t.compulsory:t.enabled)).map((e=>e.id));k&&t.push("ecommerce"),C&&t.push("donations");const n={template:f,email:p?.email,description:d,name:s,phone:p?.phone,address:p?.address,category:u,imageKeyword:c,socialProfiles:p?.socialMedia,language:m,images:l,features:t,featuresData:v},a=await(async()=>{try{const e=await ir()({path:"zipwp/v1/import-error-log",method:"GET"});if(!e.success)throw new Error(e?.data?.data);{const t=e.data.data;if(t&&Object.values(t).length>0)return t}return{}}catch(e){hw.error(er(e))}})();a&&Object.values(a).length>0?M({open:!0,error:a?.data?.error.primaryText+" "+a?.data?.error.errorText,requestData:n}):await D(n)};return{preBuildModal:x,handleClosePreBuildModal:(e=!1)=>{w((t=>({...t,open:e})))},handleGenerateContent:T,premiumModal:E,setPremiumModal:_,prevErrorAlert:S,setPrevErrorAlertOpen:e=>M({open:e}),onConfirmErrorAlert:async()=>{M({open:!1,error:{},requestData:{}}),await D(S.requestData)},handleClickStartBuilding:(e=!1)=>()=>{y||("yes"===aiBuilderVars.firstImportStatus?w({open:!0,skipFeature:e}):T(e)())},isInProgress:y}})();return(0,n.createElement)(i.Fragment,null,(0,n.createElement)(e,{handleClickStartBuilding:p,isInProgress:f,...t}),(0,n.createElement)(wE,{open:r.open,setOpen:a,startBuilding:o(r.skipFeature)}),(0,n.createElement)(EE,{open:s,setOpen:l}),(0,n.createElement)(iS,{open:c.open,setOpen:u,onConfirm:d,errorString:JSON.stringify(c.error)}))},lS=({widthClassName:e="w-5",heightClassName:t="h-5",colorClassName:r="text-white",className:a})=>(0,n.createElement)("svg",{className:Gt("animate-spin",e,t,r,a),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},(0,n.createElement)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.createElement)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}));var cS="tippy-content",uS="tippy-backdrop",dS="tippy-arrow",pS="tippy-svg-arrow",fS={passive:!0,capture:!0},mS=function(){return document.body};function hS(e,t,r){if(Array.isArray(e)){var n=e[t];return null==n?Array.isArray(r)?r[t]:r:n}return e}function gS(e,t){var r={}.toString.call(e);return 0===r.indexOf("[object")&&r.indexOf(t+"]")>-1}function vS(e,t){return"function"==typeof e?e.apply(void 0,t):e}function yS(e,t){return 0===t?e:function(n){clearTimeout(r),r=setTimeout((function(){e(n)}),t)};var r}function bS(e){return[].concat(e)}function xS(e,t){-1===e.indexOf(t)&&e.push(t)}function wS(e){return[].slice.call(e)}function ES(e){return Object.keys(e).reduce((function(t,r){return void 0!==e[r]&&(t[r]=e[r]),t}),{})}function _S(){return document.createElement("div")}function SS(e){return["Element","Fragment"].some((function(t){return gS(e,t)}))}function MS(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function NS(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function kS(e,t,r){var n=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[n](t,r)}))}function CS(e,t){for(var r=t;r;){var n;if(e.contains(r))return!0;r=null==r.getRootNode||null==(n=r.getRootNode())?void 0:n.host}return!1}var DS={isTouch:!1},TS=0;function jS(){DS.isTouch||(DS.isTouch=!0,window.performance&&document.addEventListener("mousemove",AS))}function AS(){var e=performance.now();e-TS<20&&(DS.isTouch=!1,document.removeEventListener("mousemove",AS)),TS=e}function OS(){var e,t=document.activeElement;if((e=t)&&e._tippy&&e._tippy.reference===e){var r=t._tippy;t.blur&&!r.state.isVisible&&t.blur()}}var IS=!("undefined"==typeof window||"undefined"==typeof document||!window.msCrypto),LS=Object.assign({appendTo:mS,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),PS=Object.keys(LS);function zS(e){var t=(e.plugins||[]).reduce((function(t,r){var n,a=r.name,o=r.defaultValue;return a&&(t[a]=void 0!==e[a]?e[a]:null!=(n=LS[a])?n:o),t}),{});return Object.assign({},e,t)}function FS(e,t){var r=Object.assign({},t,{content:vS(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(zS(Object.assign({},LS,{plugins:t}))):PS).reduce((function(t,r){var n=(e.getAttribute("data-tippy-"+r)||"").trim();if(!n)return t;if("content"===r)t[r]=n;else try{t[r]=JSON.parse(n)}catch(e){t[r]=n}return t}),{})}(e,t.plugins));return r.aria=Object.assign({},LS.aria,r.aria),r.aria={expanded:"auto"===r.aria.expanded?t.interactive:r.aria.expanded,content:"auto"===r.aria.content?t.interactive?null:"describedby":r.aria.content},r}var RS=function(){return"innerHTML"};function BS(e,t){e[RS()]=t}function US(e){var t=_S();return!0===e?t.className=dS:(t.className=pS,SS(e)?t.appendChild(e):BS(t,e)),t}function VS(e,t){SS(t.content)?(BS(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?BS(e,t.content):e.textContent=t.content)}function WS(e){var t=e.firstElementChild,r=wS(t.children);return{box:t,content:r.find((function(e){return e.classList.contains(cS)})),arrow:r.find((function(e){return e.classList.contains(dS)||e.classList.contains(pS)})),backdrop:r.find((function(e){return e.classList.contains(uS)}))}}function HS(e){var t=_S(),r=_S();r.className="tippy-box",r.setAttribute("data-state","hidden"),r.setAttribute("tabindex","-1");var n=_S();function a(r,n){var a=WS(t),o=a.box,i=a.content,s=a.arrow;n.theme?o.setAttribute("data-theme",n.theme):o.removeAttribute("data-theme"),"string"==typeof n.animation?o.setAttribute("data-animation",n.animation):o.removeAttribute("data-animation"),n.inertia?o.setAttribute("data-inertia",""):o.removeAttribute("data-inertia"),o.style.maxWidth="number"==typeof n.maxWidth?n.maxWidth+"px":n.maxWidth,n.role?o.setAttribute("role",n.role):o.removeAttribute("role"),r.content===n.content&&r.allowHTML===n.allowHTML||VS(i,e.props),n.arrow?s?r.arrow!==n.arrow&&(o.removeChild(s),o.appendChild(US(n.arrow))):o.appendChild(US(n.arrow)):s&&o.removeChild(s)}return n.className=cS,n.setAttribute("data-state","hidden"),VS(n,e.props),t.appendChild(r),r.appendChild(n),a(e.props,e.props),{popper:t,onUpdate:a}}HS.$$tippy=!0;var $S=1,YS=[],ZS=[];function QS(e,t){var r,n,a,o,i,s,l,c,u=FS(e,Object.assign({},LS,zS(ES(t)))),d=!1,p=!1,f=!1,m=!1,h=[],g=yS(Z,u.interactiveDebounce),v=$S++,y=(c=u.plugins).filter((function(e,t){return c.indexOf(e)===t})),b={id:v,reference:e,popper:_S(),popperInstance:null,props:u,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:y,clearDelayTimeouts:function(){clearTimeout(r),clearTimeout(n),cancelAnimationFrame(a)},setProps:function(t){if(!b.state.isDestroyed){O("onBeforeUpdate",[b,t]),$();var r=b.props,n=FS(e,Object.assign({},r,ES(t),{ignoreAttributes:!0}));b.props=n,H(),r.interactiveDebounce!==n.interactiveDebounce&&(P(),g=yS(Z,n.interactiveDebounce)),r.triggerTarget&&!n.triggerTarget?bS(r.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):n.triggerTarget&&e.removeAttribute("aria-expanded"),L(),A(),E&&E(r,n),b.popperInstance&&(K(),J().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)}))),O("onAfterUpdate",[b,t])}},setContent:function(e){b.setProps({content:e})},show:function(){var e=b.state.isVisible,t=b.state.isDestroyed,r=!b.state.isEnabled,n=DS.isTouch&&!b.props.touch,a=hS(b.props.duration,0,LS.duration);if(!(e||t||r||n||C().hasAttribute("disabled")||(O("onShow",[b],!1),!1===b.props.onShow(b)))){if(b.state.isVisible=!0,k()&&(w.style.visibility="visible"),A(),B(),b.state.isMounted||(w.style.transition="none"),k()){var o=T();MS([o.box,o.content],0)}var i,l,c;s=function(){var e;if(b.state.isVisible&&!m){if(m=!0,w.offsetHeight,w.style.transition=b.props.moveTransition,k()&&b.props.animation){var t=T(),r=t.box,n=t.content;MS([r,n],a),NS([r,n],"visible")}I(),L(),xS(ZS,b),null==(e=b.popperInstance)||e.forceUpdate(),O("onMount",[b]),b.props.animation&&k()&&function(e,t){V(e,(function(){b.state.isShown=!0,O("onShown",[b])}))}(a)}},l=b.props.appendTo,c=C(),(i=b.props.interactive&&l===mS||"parent"===l?c.parentNode:vS(l,[c])).contains(w)||i.appendChild(w),b.state.isMounted=!0,K()}},hide:function(){var e=!b.state.isVisible,t=b.state.isDestroyed,r=!b.state.isEnabled,n=hS(b.props.duration,1,LS.duration);if(!(e||t||r)&&(O("onHide",[b],!1),!1!==b.props.onHide(b))){if(b.state.isVisible=!1,b.state.isShown=!1,m=!1,d=!1,k()&&(w.style.visibility="hidden"),P(),U(),A(!0),k()){var a=T(),o=a.box,i=a.content;b.props.animation&&(MS([o,i],n),NS([o,i],"hidden"))}I(),L(),b.props.animation?k()&&function(e,t){V(e,(function(){!b.state.isVisible&&w.parentNode&&w.parentNode.contains(w)&&t()}))}(n,b.unmount):b.unmount()}},hideWithInteractivity:function(e){D().addEventListener("mousemove",g),xS(YS,g),g(e)},enable:function(){b.state.isEnabled=!0},disable:function(){b.hide(),b.state.isEnabled=!1},unmount:function(){b.state.isVisible&&b.hide(),b.state.isMounted&&(X(),J().forEach((function(e){e._tippy.unmount()})),w.parentNode&&w.parentNode.removeChild(w),ZS=ZS.filter((function(e){return e!==b})),b.state.isMounted=!1,O("onHidden",[b]))},destroy:function(){b.state.isDestroyed||(b.clearDelayTimeouts(),b.unmount(),$(),delete e._tippy,b.state.isDestroyed=!0,O("onDestroy",[b]))}};if(!u.render)return b;var x=u.render(b),w=x.popper,E=x.onUpdate;w.setAttribute("data-tippy-root",""),w.id="tippy-"+b.id,b.popper=w,e._tippy=b,w._tippy=b;var _=y.map((function(e){return e.fn(b)})),S=e.hasAttribute("aria-expanded");return H(),L(),A(),O("onCreate",[b]),u.showOnCreate&&ee(),w.addEventListener("mouseenter",(function(){b.props.interactive&&b.state.isVisible&&b.clearDelayTimeouts()})),w.addEventListener("mouseleave",(function(){b.props.interactive&&b.props.trigger.indexOf("mouseenter")>=0&&D().addEventListener("mousemove",g)})),b;function M(){var e=b.props.touch;return Array.isArray(e)?e:[e,0]}function N(){return"hold"===M()[0]}function k(){var e;return!(null==(e=b.props.render)||!e.$$tippy)}function C(){return l||e}function D(){var e,t,r=C().parentNode;return r?null!=(t=bS(r)[0])&&null!=(e=t.ownerDocument)&&e.body?t.ownerDocument:document:document}function T(){return WS(w)}function j(e){return b.state.isMounted&&!b.state.isVisible||DS.isTouch||o&&"focus"===o.type?0:hS(b.props.delay,e?0:1,LS.delay)}function A(e){void 0===e&&(e=!1),w.style.pointerEvents=b.props.interactive&&!e?"":"none",w.style.zIndex=""+b.props.zIndex}function O(e,t,r){var n;void 0===r&&(r=!0),_.forEach((function(r){r[e]&&r[e].apply(r,t)})),r&&(n=b.props)[e].apply(n,t)}function I(){var t=b.props.aria;if(t.content){var r="aria-"+t.content,n=w.id;bS(b.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(r);if(b.state.isVisible)e.setAttribute(r,t?t+" "+n:n);else{var a=t&&t.replace(n,"").trim();a?e.setAttribute(r,a):e.removeAttribute(r)}}))}}function L(){!S&&b.props.aria.expanded&&bS(b.props.triggerTarget||e).forEach((function(e){b.props.interactive?e.setAttribute("aria-expanded",b.state.isVisible&&e===C()?"true":"false"):e.removeAttribute("aria-expanded")}))}function P(){D().removeEventListener("mousemove",g),YS=YS.filter((function(e){return e!==g}))}function z(t){if(!DS.isTouch||!f&&"mousedown"!==t.type){var r=t.composedPath&&t.composedPath()[0]||t.target;if(!b.props.interactive||!CS(w,r)){if(bS(b.props.triggerTarget||e).some((function(e){return CS(e,r)}))){if(DS.isTouch)return;if(b.state.isVisible&&b.props.trigger.indexOf("click")>=0)return}else O("onClickOutside",[b,t]);!0===b.props.hideOnClick&&(b.clearDelayTimeouts(),b.hide(),p=!0,setTimeout((function(){p=!1})),b.state.isMounted||U())}}}function F(){f=!0}function R(){f=!1}function B(){var e=D();e.addEventListener("mousedown",z,!0),e.addEventListener("touchend",z,fS),e.addEventListener("touchstart",R,fS),e.addEventListener("touchmove",F,fS)}function U(){var e=D();e.removeEventListener("mousedown",z,!0),e.removeEventListener("touchend",z,fS),e.removeEventListener("touchstart",R,fS),e.removeEventListener("touchmove",F,fS)}function V(e,t){var r=T().box;function n(e){e.target===r&&(kS(r,"remove",n),t())}if(0===e)return t();kS(r,"remove",i),kS(r,"add",n),i=n}function W(t,r,n){void 0===n&&(n=!1),bS(b.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,r,n),h.push({node:e,eventType:t,handler:r,options:n})}))}function H(){var e;N()&&(W("touchstart",Y,{passive:!0}),W("touchend",Q,{passive:!0})),(e=b.props.trigger,e.split(/\s+/).filter(Boolean)).forEach((function(e){if("manual"!==e)switch(W(e,Y),e){case"mouseenter":W("mouseleave",Q);break;case"focus":W(IS?"focusout":"blur",G);break;case"focusin":W("focusout",G)}}))}function $(){h.forEach((function(e){var t=e.node,r=e.eventType,n=e.handler,a=e.options;t.removeEventListener(r,n,a)})),h=[]}function Y(e){var t,r=!1;if(b.state.isEnabled&&!q(e)&&!p){var n="focus"===(null==(t=o)?void 0:t.type);o=e,l=e.currentTarget,L(),!b.state.isVisible&&gS(e,"MouseEvent")&&YS.forEach((function(t){return t(e)})),"click"===e.type&&(b.props.trigger.indexOf("mouseenter")<0||d)&&!1!==b.props.hideOnClick&&b.state.isVisible?r=!0:ee(e),"click"===e.type&&(d=!r),r&&!n&&te(e)}}function Z(e){var t=e.target,r=C().contains(t)||w.contains(t);if("mousemove"!==e.type||!r){var n=J().concat(w).map((function(e){var t,r=null==(t=e._tippy.popperInstance)?void 0:t.state;return r?{popperRect:e.getBoundingClientRect(),popperState:r,props:u}:null})).filter(Boolean);(function(e,t){var r=t.clientX,n=t.clientY;return e.every((function(e){var t=e.popperRect,a=e.popperState,o=e.props.interactiveBorder,i=a.placement.split("-")[0],s=a.modifiersData.offset;if(!s)return!0;var l="bottom"===i?s.top.y:0,c="top"===i?s.bottom.y:0,u="right"===i?s.left.x:0,d="left"===i?s.right.x:0,p=t.top-n+l>o,f=n-t.bottom-c>o,m=t.left-r+u>o,h=r-t.right-d>o;return p||f||m||h}))})(n,e)&&(P(),te(e))}}function Q(e){q(e)||b.props.trigger.indexOf("click")>=0&&d||(b.props.interactive?b.hideWithInteractivity(e):te(e))}function G(e){b.props.trigger.indexOf("focusin")<0&&e.target!==C()||b.props.interactive&&e.relatedTarget&&w.contains(e.relatedTarget)||te(e)}function q(e){return!!DS.isTouch&&N()!==e.type.indexOf("touch")>=0}function K(){X();var t=b.props,r=t.popperOptions,n=t.placement,a=t.offset,o=t.getReferenceClientRect,i=t.moveTransition,l=k()?WS(w).arrow:null,c=o?{getBoundingClientRect:o,contextElement:o.contextElement||C()}:e,u=[{name:"offset",options:{offset:a}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!i}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(k()){var r=T().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?r.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?r.setAttribute("data-"+e,""):r.removeAttribute("data-"+e)})),t.attributes.popper={}}}}];k()&&l&&u.push({name:"arrow",options:{element:l,padding:3}}),u.push.apply(u,(null==r?void 0:r.modifiers)||[]),b.popperInstance=Ei(c,w,Object.assign({},r,{placement:n,onFirstUpdate:s,modifiers:u}))}function X(){b.popperInstance&&(b.popperInstance.destroy(),b.popperInstance=null)}function J(){return wS(w.querySelectorAll("[data-tippy-root]"))}function ee(e){b.clearDelayTimeouts(),e&&O("onTrigger",[b,e]),B();var t=j(!0),n=M(),a=n[0],o=n[1];DS.isTouch&&"hold"===a&&o&&(t=o),t?r=setTimeout((function(){b.show()}),t):b.show()}function te(e){if(b.clearDelayTimeouts(),O("onUntrigger",[b,e]),b.state.isVisible){if(!(b.props.trigger.indexOf("mouseenter")>=0&&b.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&d)){var t=j(!1);t?n=setTimeout((function(){b.state.isVisible&&b.hide()}),t):a=requestAnimationFrame((function(){b.hide()}))}}else U()}}function GS(e,t){void 0===t&&(t={});var r=LS.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",jS,fS),window.addEventListener("blur",OS);var n,a=Object.assign({},t,{plugins:r}),o=(n=e,SS(n)?[n]:function(e){return gS(e,"NodeList")}(n)?wS(n):Array.isArray(n)?n:wS(document.querySelectorAll(n))).reduce((function(e,t){var r=t&&QS(t,a);return r&&e.push(r),e}),[]);return SS(e)?o[0]:o}GS.defaultProps=LS,GS.setDefaultProps=function(e){Object.keys(e).forEach((function(t){LS[t]=e[t]}))},GS.currentInput=DS,Object.assign({},ai,{effect:function(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow)}}),GS.setDefaultProps({render:HS});const qS=GS;function KS(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}var XS="undefined"!=typeof window&&"undefined"!=typeof document;function JS(e,t){e&&("function"==typeof e&&e(t),{}.hasOwnProperty.call(e,"current")&&(e.current=t))}function eM(){return XS&&document.createElement("div")}function tM(e,t){if(e===t)return!0;if("object"==typeof e&&null!=e&&"object"==typeof t&&null!=t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e){if(!t.hasOwnProperty(r))return!1;if(!tM(e[r],t[r]))return!1}return!0}return!1}function rM(e){var t=[];return e.forEach((function(e){t.find((function(t){return tM(e,t)}))||t.push(e)})),t}var nM=XS?n.useLayoutEffect:n.useEffect;function aM(e,t,r){r.split(/\s+/).forEach((function(r){r&&e.classList[t](r)}))}var oM={name:"className",defaultValue:"",fn:function(e){var t=e.popper.firstElementChild,r=function(){var t;return!!(null==(t=e.props.render)?void 0:t.$$tippy)};function n(){e.props.className&&!r()||aM(t,"add",e.props.className)}return{onCreate:n,onBeforeUpdate:function(){r()&&aM(t,"remove",e.props.className)},onAfterUpdate:n}}};function iM(e){return function(t){var r,a,i=t.children,s=t.content,l=t.visible,c=t.singleton,u=t.render,d=t.reference,p=t.disabled,f=void 0!==p&&p,m=t.ignoreAttributes,h=void 0===m||m,g=(t.__source,t.__self,KS(t,["children","content","visible","singleton","render","reference","disabled","ignoreAttributes","__source","__self"])),v=void 0!==l,y=void 0!==c,b=(0,n.useState)(!1),x=b[0],w=b[1],E=(0,n.useState)({}),_=E[0],S=E[1],M=(0,n.useState)(),N=M[0],k=M[1],C=(r=function(){return{container:eM(),renders:1}},(a=(0,n.useRef)()).current||(a.current="function"==typeof r?r():r),a.current),D=Object.assign({ignoreAttributes:h},g,{content:C.container});v&&(D.trigger="manual",D.hideOnClick=!1),y&&(f=!0);var T=D,j=D.plugins||[];u&&(T=Object.assign({},D,{plugins:y&&null!=c.data?[].concat(j,[{fn:function(){return{onTrigger:function(e,t){var r=c.data.children.find((function(e){return e.instance.reference===t.currentTarget}));e.state.$$activeSingletonInstance=r.instance,k(r.content)}}}}]):j,render:function(){return{popper:C.container}}}));var A=[d].concat(i?[i.type]:[]);return nM((function(){var t=d;d&&d.hasOwnProperty("current")&&(t=d.current);var r=e(t||C.ref||eM(),Object.assign({},T,{plugins:[oM].concat(D.plugins||[])}));return C.instance=r,f&&r.disable(),l&&r.show(),y&&c.hook({instance:r,content:s,props:T,setSingletonContent:k}),w(!0),function(){r.destroy(),null==c||c.cleanup(r)}}),A),nM((function(){var e,t,r,n,a;if(1!==C.renders){var o=C.instance;o.setProps((t=o.props,r=T,Object.assign({},r,{popperOptions:Object.assign({},t.popperOptions,r.popperOptions,{modifiers:rM([].concat((null==(n=t.popperOptions)?void 0:n.modifiers)||[],(null==(a=r.popperOptions)?void 0:a.modifiers)||[]))})}))),null==(e=o.popperInstance)||e.forceUpdate(),f?o.disable():o.enable(),v&&(l?o.show():o.hide()),y&&c.hook({instance:o,content:s,props:T,setSingletonContent:k})}else C.renders++})),nM((function(){var e;if(u){var t=C.instance;t.setProps({popperOptions:Object.assign({},t.props.popperOptions,{modifiers:[].concat(((null==(e=t.props.popperOptions)?void 0:e.modifiers)||[]).filter((function(e){return"$$tippyReact"!==e.name})),[{name:"$$tippyReact",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t,r=e.state,n=null==(t=r.modifiersData)?void 0:t.hide;_.placement===r.placement&&_.referenceHidden===(null==n?void 0:n.isReferenceHidden)&&_.escaped===(null==n?void 0:n.hasPopperEscaped)||S({placement:r.placement,referenceHidden:null==n?void 0:n.isReferenceHidden,escaped:null==n?void 0:n.hasPopperEscaped}),r.attributes.popper={}}}])})})}}),[_.placement,_.referenceHidden,_.escaped].concat(A)),o().createElement(o().Fragment,null,i?(0,n.cloneElement)(i,{ref:function(e){C.ref=e,JS(i.ref,e)}}):null,x&&(0,os.createPortal)(u?u(function(e){var t={"data-placement":e.placement};return e.referenceHidden&&(t["data-reference-hidden"]=""),e.escaped&&(t["data-escaped"]=""),t}(_),N,C.instance):s,C.container))}}var sM=function(e,t){return(0,n.forwardRef)((function(r,a){var i=r.children,s=KS(r,["children"]);return o().createElement(e,Object.assign({},t,s),i?(0,n.cloneElement)(i,{ref:function(e){JS(a,e),JS(i.ref,e)}}):null)}))};const lM=sM(iM(qS)),cM=({children:e,content:t,offset:r,placement:a="top",className:o,arrow:i=!1})=>t?(0,n.createElement)(lM,{arrow:i,content:t,className:Gt("zw-tooltip zw-xs-normal bg-app-tooltip px-0.5 py-1.5 flex items-center justify-left text-justify",o),offset:r,placement:a},e):(0,n.createElement)("div",null,e),{logoUrlDark:uM}=aiBuilderVars,dM={collapsed:{x:"-100%"},expanded:{x:0}},pM=!!aiBuilderVars?.skipFeatures,fM=sS((({handleClickStartBuilding:e,isInProgress:t})=>{var r;const{nextStep:a}=EI(),[o,s]=(0,i.useState)(!0),[l,c]=(0,i.useState)(Bm.desktop),[u,d]=(0,i.useState)(window.innerWidth<1024),{setWebsiteSelectedTemplateAIStep:p,setSelectedTemplateIsPremium:f}=(0,et.useDispatch)(xn),m=function(){const e=Rs(Wm);return Us(e.mount,[]),e}(),h=(0,i.useRef)(null),{stepData:{selectedTemplate:g,templateList:v,businessName:y,selectedImages:b=[],businessContact:x},aiSiteLogo:w,aiSiteTitleVisible:E,aiActiveTypography:_,aiActivePallette:S}=(0,et.useSelect)((e=>{const{getWebsiteInfo:t,getAIStepData:r,getSiteLogo:n,getSiteTitleVisible:a,getActiveTypography:o,getActiveColorPalette:i}=e(xn);return{websiteInfo:t(),stepData:r(),aiSiteLogo:n(),aiSiteTitleVisible:a(),aiActiveTypography:o(),aiActivePallette:i()}}),[]),M=v?.find((e=>e?.uuid===g)),N=e=>{vr(e,"astra-starter-templates-preview")},k=M?.is_premium&&(!aiBuilderVars?.zip_plans?.active_plan||"free"===aiBuilderVars?.zip_plans?.active_plan?.slug),C=()=>{const e=h.current;if(!e)return;const t=e.children[1],r=e.clientWidth,n=e.clientHeight-44,a=t.clientWidth,o=r/a;"desktop"!==l.name&&(t.removeAttribute("style"),r>a)||(t.style.transform=`scale(${o})`,t.style.transformOrigin="top left",t.style.height=n/o+"px")};(0,i.useEffect)((()=>{(async()=>{await ir()({path:"zipwp/v1/zip-plan",method:"POST",headers:{"X-WP-Nonce":aiBuilderVars.rest_api_nonce}}).then((e=>{e.success}))})()}),[]);const D=()=>{window.innerWidth<1024?d(!0):d(!1)};(0,i.useLayoutEffect)((()=>{const e=new ResizeObserver(D);return e.observe(window.document.body),()=>{e.unobserve(window.document.body)}}),[]),(0,i.useLayoutEffect)((()=>{requestAnimationFrame(C)}),[l,u]),(0,i.useLayoutEffect)((()=>{const e=new ResizeObserver(C);return e.observe(window.document.body),()=>{e.unobserve(window.document.body)}}),[l]);const T=()=>{const e="desktop"===l?.name||"tablet"===l?.name,t="mobile"===l?.name,r=(0,tt.__)("This is just a sneak peek. The actual website and its content will be created in the next step.","astra-sites"),a=()=>(0,n.createElement)("p",null,r);return(0,n.createElement)("div",{className:Gt("flex items-center py-3 px-4 bg-white shadow-sm rounded-t-lg mx-auto h-[44px] z-[1] group","desktop"===l?.name&&"w-full mx-0 relative justify-between md:justify-start","tablet"===l?.name&&"w-[800px] justify-between md:justify-start","mobile"===l?.name&&"w-[400px] justify-between")},(0,n.createElement)("div",{className:"flex gap-2 py-[3px] w-20"},(0,n.createElement)("div",{className:"w-[14px] h-[14px] border border-solid border-border-primary rounded-full"}),(0,n.createElement)("div",{className:"w-[14px] h-[14px] border border-solid border-border-primary rounded-full"}),(0,n.createElement)("div",{className:"w-[14px] h-[14px] border border-solid border-border-primary rounded-full"})),e&&(0,n.createElement)("div",{className:"flex-grow flex justify-end md:justify-center items-center relative"},(0,n.createElement)("p",{className:"absolute md:static top-1 sm:top-2 right-10 sm:right md:right-80 lg:right-24 xl:right-52 px-2 py-1 bg-white rounded-md max-md:shadow-lg text-center !text-sm !text-zip-body-text !m-0 max-md:hidden"},r),(0,n.createElement)(cM,{content:(0,n.createElement)(a,null),placement:"right",offset:[10,0],className:"zw-tooltip__material",arrow:!1},(0,n.createElement)(rr,{className:"w-[18px] text-gray-600 cursor-pointer block md:hidden"}))),t&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)(cM,{content:(0,n.createElement)(a,null),placement:"right",offset:[10,0],className:"zw-tooltip__material"},(0,n.createElement)(rr,{className:"w-[18px] text-gray-600 cursor-pointer block"}))))};return(0,n.createElement)(km.div,{id:"spectra-onboarding-ai",key:"spectra-onboarding-ai",className:"relative font-sans flex flex-wrap h-screen w-screen",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1,transition:{duration:.2}},exit:{opacity:1},transition:{type:"tween"}},(0,n.createElement)(km.div,{className:Gt("absolute top-0 left-0 flex w-[360px] lg:flex-col z-10 h-screen"),onTransitionEnd:C,initial:!1,animate:u?"collapsed":"expanded",transition:{duration:.25,ease:"easeInOut",delay:.05},variants:dM},(0,n.createElement)("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto border-r border-gray-200 bg-zip-dark-theme-bg px-6"},(0,n.createElement)("div",{className:"mt-3 flex h-16 shrink-0 items-center relative"},(0,n.createElement)("img",{className:"h-10",src:uM,alt:(0,tt.__)("Build with AI","astra-sites")}),(0,n.createElement)("div",{className:"absolute top-3 right-0"},(0,n.createElement)(Dm,{exitButtonClassName:"text-icon-tertiary"}))),(0,n.createElement)("nav",{className:"flex flex-1 flex-col gap-y-1"},(0,n.createElement)("div",{className:"w-full mt-2"},(0,n.createElement)("div",{className:"space-y-5","data-disabled":t},(0,n.createElement)("div",null,(0,n.createElement)(io,null)),(0,n.createElement)("div",null,(0,n.createElement)(Jn,null)),(0,n.createElement)("div",null,(0,n.createElement)(Yn,null)),"custom"===S?.slug&&(0,n.createElement)("div",null,(0,n.createElement)(hx,null)))),k&&aiBuilderVars?.show_premium_badge?(0,n.createElement)("div",{className:"mt-5"},(0,n.createElement)("div",{className:"flex flex-col p-4 rounded-md border border-solid border-alert-info-text gap-4 bg-transparent text-white"},(0,n.createElement)("div",{className:"flex gap-4 flex-col"},(0,n.createElement)("div",{className:"flex gap-3 items-center leading-[1em]"},(0,n.createElement)("span",null,(0,n.createElement)(kn,{className:"w-5 h-5"})),(0,n.createElement)("h4",{className:"text-base font-semibold leading-[1em] tracking-normal text-left text-white"},(0,tt.__)("Premium Design","astra-sites"))),(0,n.createElement)("p",{className:"text-brand-secondary-200 text-white text-sm"},(0,tt.__)("You've chosen a Premium Design. Access this design and all others with our paid plans","astra-sites"))))):(0,n.createElement)(n.Fragment,null),(0,n.createElement)("div",{className:"mt-8 mb-5 space-y-5"},(0,n.createElement)(cr,{className:"h-10 w-full font-semibold text-sm leading-5",onClick:pM?e(!0):a,variant:"primary",hasSuffixIcon:!t},t?(0,n.createElement)(lS,{className:"w-5 h-5"}):(0,n.createElement)(n.Fragment,null,(0,n.createElement)("span",null,pM?(0,n.createElement)("span",null,(0,tt.__)("Start Building","astra-sites")):(0,tt.__)("Continue","astra-sites")),(0,n.createElement)(nr,{className:"w-5 h-5"}))),(0,n.createElement)(cr,{className:"mx-auto text-white h-10 w-full font-semibold text-sm leading-5 bg-zip-dark-theme-content-background",variant:"blank",onClick:()=>{p(""),f("")},disabled:t},(0,n.createElement)("span",null,(0,tt.__)("Back to Other Designs","astra-sites")))),(0,n.createElement)("div",{className:"mt-auto mb-6 flex items-center justify-between gap-3","data-disabled":t},(0,n.createElement)("span",{className:"text-zip-dark-theme-body text-sm font-semibold"},(0,tt.__)("Responsive Preview","astra-sites")),(0,n.createElement)(Um,{onChange:c,value:l})))),(0,n.createElement)("button",{className:"absolute top-[45%] left-full flex items-center justify-center w-4 h-14 bg-zip-dark-theme-bg shadow-sm rounded-tr rounded-br border border-solid border-zip-dark-theme-border cursor-pointer focus:outline-none",onClick:async()=>{d((e=>!e)),await m.start({opacity:[0,0,1],transition:{type:"spring",mass:.4,damping:600,stiffness:600,duration:.6,ease:"easeOut"}})}},(0,n.createElement)(ar,{className:Gt("w-4 h-4 text-white scale-110 stroke-2 !shrink-0 transform transition-transform duration-200 ease-in-out",u?"rotate-180":"rotate-0")}))),(0,n.createElement)(km.main,{id:"sp-onboarding-content-wrapper",className:"flex-1 overflow-hidden h-screen max-w-full bg-white transition-all duration-200 ease-in-out",initial:!1,animate:u?"collapsed":"expanded",transition:{duration:.1,ease:"easeInOut"},variants:window.innerWidth<1024?{collapsed:{width:"100%",marginLeft:0},expanded:{width:"100%",marginLeft:0}}:{collapsed:{width:"100%",marginLeft:0},expanded:{width:"calc(100% - 360px)",marginLeft:"360px"}},onUpdate:()=>requestAnimationFrame(C),onTransitionEnd:()=>requestAnimationFrame(C)},(0,n.createElement)("div",{className:"h-full w-full relative flex"},(0,n.createElement)("div",{className:"w-full max-h-full flex flex-col flex-auto items-center bg-preview-background overflow-hidden"},(0,n.createElement)("div",{className:"w-full h-full flex-1"},o&&(0,n.createElement)("div",{className:"w-full h-full p-8 overflow-y-hidden bg-zip-app-light-bg text-center"},T(),(0,n.createElement)(sr,{className:"shadow-template-preview !h-[calc(100%_-_44px)]"})),M?.domain&&(0,n.createElement)(km.div,{className:Gt("w-full h-full p-8","desktop"!==l?.name&&"relative"),animate:m},(0,n.createElement)("div",{ref:h,className:Gt("h-full mx-auto shadow-template-preview","desktop"===l?.name&&"w-full mx-0","tablet"===l?.name&&"w-[800px]","mobile"===l?.name&&"w-[400px]","desktop"===l?.name&&"overflow-hidden relative")},T(),(0,n.createElement)("div",{className:Gt("h-full bg-zip-app-light-bg mx-auto","desktop"===l?.name&&"w-[1700px] mx-0","tablet"===l?.name&&"w-[800px]","mobile"===l?.name&&"w-[400px]")},(0,n.createElement)(km.iframe,{className:Gt("h-full z-[1]","desktop"===l?.name&&"w-[1700px]","tablet"===l?.name&&"w-[800px]","mobile"===l?.name&&"w-[400px]"),id:"astra-starter-templates-preview",title:"Website Preview",height:"100%",width:null!==(r=l?.width)&&void 0!==r?r:"100%",src:gr(M.domain)+"?preview_demo=yes",onLoad:()=>{if(b?.length||(b.push(aiBuilderVars?.placeholder_images[0]),b.push(aiBuilderVars?.placeholder_images[1])),w?.url){const e={...w};"http:"===window.location.protocol&&Kn(e.url,(function(t){e.dataUri=t})),setTimeout((()=>{N({param:"siteLogo",data:e}),N({param:"siteTitle",data:E})}),100)}if(S?.slug?.includes("default")||N({param:"colorPalette",data:S}),_?.default||N({param:"siteTypography",data:_}),Object.values(x).some(Boolean)){const e=[{type:"phone",value:x.phone,fallback:"202-555-0188"},{type:"email",value:x.email,fallback:"contact@example.com"},{type:"address",value:x.address,fallback:"2360 Hood Avenue, San Diego, CA, 92123"}];N({param:"contactInfo",data:e})}N({param:"images",data:{...b},preview_type:"full"}),M?.content&&N({param:"content",data:M.content,businessName:y}),s(!1),C()}})))))))))}));var mM=r(5848);const hM=({onOpenChange:e,openTarget:t="_blank"})=>{const{setLimitExceedModal:r}=(0,et.useDispatch)(xn),{limitExceedModal:a}=(0,et.useSelect)((e=>{const{getLimitExceedModalInfo:t}=e(xn);return{limitExceedModal:t()}})),o=(0,n.createElement)("span",{dangerouslySetInnerHTML:{__html:aiBuilderVars?.filtered_data?.main_content}}),i=(0,n.createElement)("span",{className:"zw-base-semibold text-app-heading "},(0,tt.sprintf)(/* translators: %s: daily limit */ /* translators: %s: daily limit */
(0,tt.__)("Page count: %s","astra-sites"),e.pagesCount))))," "))))))},RA={hidden:{scale:0},visible:{scale:1},exit:{scale:0}},BA=(0,i.memo)((({className:e})=>(0,n.createElement)("div",{className:"w-5 h-5 flex items-center justify-center gap-0.5"},[...Array(3)].map(((t,r)=>{return(0,n.createElement)(km.div,{key:r,className:Gt("w-1 h-1 bg-accent-st rounded-full !shrink-0",e),variants:RA,initial:"hidden",animate:"visible",exit:"exit",transition:(a=r,{duration:.5,repeat:1/0,repeatType:"reverse",delay:.2*a})});var a}))))),UA=({template:e,position:t,onIframeLoaded:r,shouldLoad:a})=>{const{businessName:o,selectedImages:s,templateList:l,businessContact:c}=(0,et.useSelect)((e=>{const{getAIStepData:t}=e(xn);return t()})),{setWebsiteSelectedTemplateAIStep:u,setWebsiteColorPalette:d,setWebsiteTypography:p,setWebsiteLogo:f,setSelectedTemplateIsPremium:m,setSiteTitleVisible:h}=(0,et.useDispatch)(xn),g=(0,i.useRef)(null),v=(0,i.useRef)(null),y=e.domain+"?preview_demo=yes",[b,x]=(0,n.useState)(!1),[w,E]=(0,n.useState)(!1),_=()=>{if(!g.current)return;const e=g.current,t=e.firstChild,r=t.offsetWidth,n=e.offsetWidth/r;t.style.transform=`scale(${n})`,t.style.height=e.offsetHeight/n+"px"};(0,i.useEffect)((()=>{_()}),[]),(0,i.useEffect)((()=>(window.addEventListener("resize",_),()=>{window.removeEventListener("resize",_)})),[]);const S=(0,i.useRef)(null),M=a||b||w;return(0,i.useEffect)((()=>{a&&!b&&E(!0)}),[a,b]),(0,n.createElement)("div",{className:Gt("w-full border border-border-tertiary border-solid rounded-lg overflow-hidden"),"data-template-uuid":e.uuid,"data-template-unique-id":e.uniqueId},(0,n.createElement)("div",{className:Gt("w-full relative h-fit bg-zip-app-highlight-bg")},(0,n.createElement)("div",{ref:g,key:e.uuid,className:"w-full aspect-[164/179] relative overflow-hidden bg-neutral-300"},(0,n.createElement)("div",{className:"scale-[0.33] w-[1440px] h-full absolute left-0 top-0 origin-top-left"},M&&(0,n.createElement)("iframe",{title:e?.domain,className:"absolute w-[1440px] h-full",src:gr(y),onLoad:()=>{(e=>{if(!v.current)return;if(s?.length||(s.push(aiBuilderVars?.placeholder_images[0]),s.push(aiBuilderVars?.placeholder_images[1])),Object.values(c).some(Boolean)){const t=[{type:"phone",value:c.phone,fallback:"202-555-0188"},{type:"email",value:c.email,fallback:"contact@example.com"},{type:"address",value:c.address,fallback:"2360 Hood Avenue, San Diego, CA, 92123"}];vr({param:"contactInfo",data:t},e)}vr({param:"images",data:{...s}},e);const t=l.find((t=>t.uuid===e));t?.content&&vr({param:"content",data:t.content,businessName:o},e),setTimeout((()=>{v.current&&v.current.remove()}),1e3)})(e.uuid),x(!0),E(!1),r(e.uniqueId)},frameBorder:"0",scrolling:"no",id:e.uuid})),e.is_premium&&aiBuilderVars?.show_premium_badge?(0,n.createElement)("div",{className:"absolute top-4 right-5 text-xs font-semibold text-white flex items-center justify-center rounded-3xl bg-gradient-1 py-1 pr-3 pl-2 pointer-events-none gap-1"},(0,n.createElement)(Un,{className:"w-3 h-3"}),(0,tt.__)("Premium","astra-sites")):null,(0,n.createElement)("div",{className:"absolute inset-0 w-full h-full bg-transparent cursor-pointer",onClick:()=>{(e=>{const t=new URL(window.location.href);t.search="",t.searchParams.set("page","astra-sites"),t.searchParams.set("uuid",e),t.hash="/design",window.history.pushState({},"",t.toString())})(e.uuid),u(e.uuid),m(e.is_premium),f(dn),p(null),d(null),h(!0)},onMouseEnter:()=>{S.current=setTimeout((()=>{vr({param:"template-hover",data:{action:"scroll-start"}},e.uuid)}),300)},onMouseLeave:()=>{clearTimeout(S.current),vr({param:"template-hover",data:{action:"scroll-stop"}},e.uuid)}})),(0,n.createElement)("div",{className:"relative h-14"},(0,n.createElement)(FA,{template:e,position:t})),(0,n.createElement)("div",{ref:v,className:"absolute inset-0 flex flex-col bg-white items-center"},(0,n.createElement)("div",{className:"w-full flex items-center p-4 space-x-5"},(0,n.createElement)("div",{"data-placeholder":!0,className:"h-5 w-10 rounded-full overflow-hidden relative bg-gray-200"}),(0,n.createElement)("div",{className:"w-full flex justify-between items-center gap-2"},(0,n.createElement)("div",{"data-placeholder":!0,className:"h-5 w-1/3 overflow-hidden relative bg-gray-200 rounded-md"}),(0,n.createElement)("div",{"data-placeholder":!0,className:"h-5 w-1/3 overflow-hidden relative bg-gray-200 rounded-md"}),(0,n.createElement)("div",{"data-placeholder":!0,className:"h-5 w-1/3 overflow-hidden relative bg-gray-200 rounded-md"}))),(0,n.createElement)("div",{"data-placeholder":!0,className:"flex items-center justify-center gap-2 h-52 w-full overflow-hidden relative bg-gray-200"},(0,n.createElement)(BA,null),(0,n.createElement)("p",{className:"!text-base !font-normal !text-zip-app-heading select-none"},(0,tt.__)("Generating preview…","astra-sites"))),(0,n.createElement)("div",{className:"w-full flex flex-col p-4 space-y-2"},(0,n.createElement)("div",{"data-placeholder":!0,className:"flex h-3 w-10/12 overflow-hidden relative bg-gray-200 rounded"}),(0,n.createElement)("div",{"data-placeholder":!0,className:"flex h-3 w-10/12 overflow-hidden relative bg-gray-200 rounded"}),(0,n.createElement)("div",{"data-placeholder":!0,className:"flex h-3 w-1/2 overflow-hidden relative bg-gray-200 rounded"})),(0,n.createElement)("div",{className:"w-full h-px  overflow-hidden relative bg-gray-200 m-4"}),(0,n.createElement)("div",{className:"flex justify-between items-center p-4 w-full gap-3"},(0,n.createElement)("div",{"data-placeholder":!0,className:"h-14 w-1/3 rounded-md overflow-hidden relative bg-gray-200"}),(0,n.createElement)("div",{"data-placeholder":!0,className:"h-14 w-1/3 rounded-md overflow-hidden relative bg-gray-200"}),(0,n.createElement)("div",{"data-placeholder":!0,className:"h-14 w-1/3 rounded-md overflow-hidden relative bg-gray-200"})),(0,n.createElement)("div",{className:"flex justify-between items-end flex-1 w-full"},(0,n.createElement)("div",{"data-placeholder":!0,className:"h-5 w-full overflow-hidden relative bg-gray-200"})))))},VA=()=>(0,n.createElement)("div",{className:"w-full relative overflow-visible"},(0,n.createElement)("div",{className:"aspect-[164/179]"}),(0,n.createElement)("div",{className:"h-14 w-full"}),(0,n.createElement)("div",{className:"absolute inset-0 flex flex-col bg-white items-center border border-border-tertiary border-solid rounded-lg"},(0,n.createElement)("div",{className:"w-full flex items-center p-4 space-x-5"},(0,n.createElement)("div",{"data-placeholder":!0,className:"h-5 w-10 rounded-full overflow-hidden relative bg-gray-200"}),(0,n.createElement)("div",{className:"w-full flex justify-between items-center gap-2"},(0,n.createElement)("div",{"data-placeholder":!0,className:"h-5 w-1/3 overflow-hidden relative bg-gray-200 rounded-md"}),(0,n.createElement)("div",{"data-placeholder":!0,className:"h-5 w-1/3 overflow-hidden relative bg-gray-200 rounded-md"}),(0,n.createElement)("div",{"data-placeholder":!0,className:"h-5 w-1/3 overflow-hidden relative bg-gray-200 rounded-md"}))),(0,n.createElement)("div",{"data-placeholder":!0,className:"flex items-center justify-center gap-2 h-52 w-full overflow-hidden relative bg-gray-200"},(0,n.createElement)(BA,null),(0,n.createElement)("p",{className:"!text-base !font-normal !text-zip-app-heading select-none"},(0,tt.__)("Generating preview…","astra-sites"))),(0,n.createElement)("div",{className:"w-full flex flex-col p-4 space-y-2"},(0,n.createElement)("div",{"data-placeholder":!0,className:"flex h-3 w-10/12 overflow-hidden relative bg-gray-200 rounded"}),(0,n.createElement)("div",{"data-placeholder":!0,className:"flex h-3 w-10/12 overflow-hidden relative bg-gray-200 rounded"}),(0,n.createElement)("div",{"data-placeholder":!0,className:"flex h-3 w-1/2 overflow-hidden relative bg-gray-200 rounded"})),(0,n.createElement)("div",{className:"w-full h-px  overflow-hidden relative bg-gray-200 m-4"}),(0,n.createElement)("div",{className:"flex justify-between items-center p-4 w-full gap-3"},(0,n.createElement)("div",{"data-placeholder":!0,className:"h-14 w-1/3 rounded-md overflow-hidden relative bg-gray-200"}),(0,n.createElement)("div",{"data-placeholder":!0,className:"h-14 w-1/3 rounded-md overflow-hidden relative bg-gray-200"}),(0,n.createElement)("div",{"data-placeholder":!0,className:"h-14 w-1/3 rounded-md overflow-hidden relative bg-gray-200"})),(0,n.createElement)("div",{className:"flex justify-between items-end flex-1 w-full"},(0,n.createElement)("div",{"data-placeholder":!0,className:"h-5 w-full overflow-hidden relative bg-gray-200"})))),WA="st-template-search",HA=()=>Math.random().toString(16).substring(3),$A={all:{value:"all",label:(0,tt.__)("All orientations","astra-sites")},landscape:{value:"landscape",label:(0,tt.__)("Landscape","astra-sites")},portrait:{value:"portrait",label:(0,tt.__)("Portrait","astra-sites")}},YA=[{label:(0,tt.__)("Search Results","astra-sites"),value:"all"},{label:(0,tt.__)("Upload Your Images","astra-sites"),mobileLabel:(0,tt.__)("Upload","astra-sites"),value:"upload"},{label:(0,tt.__)("Selected Images","astra-sites"),value:"selected"}],ZA=[aiBuilderVars?.imagesEngine||"pexels"],QA=(e=15)=>{const t=["aspect-[1/1]","aspect-[1/2]","aspect-[2/1]","aspect-[2/2]","aspect-[3/3]","aspect-[4/3]","aspect-[3/4]"];let r=0;return Array.from({length:e}).map(((e,a)=>(r=r===t.length?0:r,(0,n.createElement)(SA,{key:`skeleton-${a}`,className:Gt("relative overflow-hidden rounded-lg","bg-slate-300 rounded-lg relative animate-pulse",t[r++])}))))},GA=n.forwardRef((function({title:e,titleId:t,...r},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))})),qA=n.forwardRef((function({title:e,titleId:t,...r},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 16.875h3.375m0 0h3.375m-3.375 0V13.5m0 3.375v3.375M6 10.5h2.25a2.25 2.25 0 0 0 2.25-2.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v2.25A2.25 2.25 0 0 0 6 10.5Zm0 9.75h2.25A2.25 2.25 0 0 0 10.5 18v-2.25a2.25 2.25 0 0 0-2.25-2.25H6a2.25 2.25 0 0 0-2.25 2.25V18A2.25 2.25 0 0 0 6 20.25Zm9.75-9.75H18a2.25 2.25 0 0 0 2.25-2.25V6A2.25 2.25 0 0 0 18 3.75h-2.25A2.25 2.25 0 0 0 13.5 6v2.25a2.25 2.25 0 0 0 2.25 2.25Z"}))})),KA=n.forwardRef((function({title:e,titleId:t,...r},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))})),XA=n.forwardRef((function({title:e,titleId:t,...r},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.91 11.672a.375.375 0 0 1 0 .656l-5.603 3.113a.375.375 0 0 1-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112Z"}))})),JA=n.forwardRef((function({title:e,titleId:t,...r},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 9.75a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375m-13.5 3.01c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.184-4.183a1.14 1.14 0 0 1 .778-.332 48.294 48.294 0 0 0 5.83-.498c1.585-.233 2.708-1.626 2.708-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))})),eO=n.forwardRef((function({title:e,titleId:t,...r},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 0 0-5.78 1.128 2.25 2.25 0 0 1-2.4 2.245 4.5 4.5 0 0 0 8.4-2.245c0-.399-.078-.78-.22-1.128Zm0 0a15.998 15.998 0 0 0 3.388-1.62m-5.043-.025a15.994 15.994 0 0 1 1.622-3.395m3.42 3.42a15.995 15.995 0 0 0 4.764-4.648l3.876-5.814a1.151 1.151 0 0 0-1.597-1.597L14.146 6.32a15.996 15.996 0 0 0-4.649 4.763m3.42 3.42a6.776 6.776 0 0 0-3.42-3.42"}))})),tO=n.forwardRef((function({title:e,titleId:t,...r},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 0 1 0 3.75H5.625a1.875 1.875 0 0 1 0-3.75Z"}))})),rO=n.forwardRef((function({title:e,titleId:t,...r},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"}))})),nO=n.forwardRef((function({title:e,titleId:t,...r},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))})),aO=n.forwardRef((function({title:e,titleId:t,...r},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))})),oO=n.forwardRef((function({title:e,titleId:t,...r},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))})),iO=n.forwardRef((function({title:e,titleId:t,...r},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))})),sO=n.forwardRef((function({title:e,titleId:t,...r},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75a4.5 4.5 0 0 1-4.884 4.484c-1.076-.091-2.264.071-2.95.904l-7.152 8.684a2.548 2.548 0 1 1-3.586-3.586l8.684-7.152c.833-.686.995-1.874.904-2.95a4.5 4.5 0 0 1 6.336-4.486l-3.276 3.276a3.004 3.004 0 0 0 2.25 2.25l3.276-3.276c.256.565.398 1.192.398 1.852Z"}),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.867 19.125h.008v.008h-.008v-.008Z"}))})),lO=n.forwardRef((function({title:e,titleId:t,...r},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"}))})),cO="CREDIT_CONFIRM_MODAL",uO=bC((({onCancel:e,onConfirm:t})=>{const r=M(cO),[a,o]=(0,n.useState)(!1),i=()=>{e&&e(),r.resolve(!1),r.hide(),r.remove()},s=aiBuilderVars?.zip_plans?.plan_data?.remaining?.ai_sites_count||0,l=aiBuilderVars?.zip_plans?.plan_data?.limit?.ai_sites_count||0;return(0,n.createElement)(bE,{open:r.visible,setOpen:i,onFullyClose:r.remove,width:480,className:"!p-6"},(0,n.createElement)(xE,null,(0,n.createElement)("span",{className:"flex items-center space-x-1 gap-2"},(0,n.createElement)(lO,{className:"w-6 h-6 "}),(0,n.createElement)("div",{className:"font-semibold text-lg text-app-heading"},(0,tt.__)("Confirm Credit Usage","astra-sites")))),(0,n.createElement)("div",{className:"text-zip-body-text !mt-5 text-base"},"You have"," ",(0,n.createElement)("span",{className:"font-semibold text-app-heading"},s," out of ",l," AI Site Generations")," ","remaining in your account. Building this website will use"," ",(0,n.createElement)("span",{className:"font-semibold text-app-heading"},"1 ",(0,tt.__)("credit","astra-sites"))," ","from your account. Are you sure you want to proceed?"),(0,n.createElement)("div",{className:"flex flex-col pt-2 !mt-5 gap-y-5"},(0,n.createElement)("div",{className:"flex gap-4 items-center space-x-3 flex-col xs:flex-row"},(0,n.createElement)(cr,{className:"w-full h-10 text-sm",variant:"primary",disabled:a,onClick:async()=>{o(!0);try{t&&await t(),r.resolve(!0),r.hide(),r.remove()}catch(e){console.error("Error confirming action:",e)}finally{o(!1)}}},a?(0,n.createElement)(lS,null):(0,tt.__)("Confirm and Proceed","astra-sites")),(0,n.createElement)(cr,{className:"w-full h-10 text-sm border-gray-200 text-black",variant:"white",disabled:a,onClick:i},(0,tt.__)("Cancel","astra-sites")))))}),cO),{themeStatus:dO}=aiBuilderVars,pO=async({businessName:e,selectedTemplate:t},r,n)=>{var a;const{uuid:o}=n,i=await ir()({path:"zipwp/v1/ai-site",method:"POST",data:{template:t,business_name:e,uuid:o}});return i.success?(r({templateId:t,templateResponse:i.data?.data,importErrorMessages:{},importErrorResponse:[],importError:!1}),{success:!0,data:i.data?.data}):(r({importError:!0,importErrorMessages:{primaryText:(0,tt.__)("Fetching related demo failed.","astra-sites"),secondaryText:"",errorCode:"",errorText:"string"==typeof i.data?i.data:null!==(a=i?.data?.data)&&void 0!==a?a:"",solutionText:"",tryAgain:!1}}),{success:!1,data:i.data})},fO=async e=>{const t=new FormData;t.append("action","astra-sites-required_plugins"),t.append("_ajax_nonce",aiBuilderVars._ajax_nonce),await fetch(ajaxurl,{method:"post",body:t}).then((e=>e.json())).then((t=>{if(t.success){const r=t.data?.required_plugins,n=r.notinstalled||"",a=r.inactive||"";e({requiredPlugins:t.data,notInstalledList:n,notActivatedList:a})}else e({importError:!0,importErrorMessages:{primaryText:(0,tt.__)("Required plugins could not be verified.","astra-sites"),tryAgain:!0,errorText:t?.data?.error}})}))},mO=(e,t,r)=>{const n=[];return e?.forEach((e=>{switch(e){case"ecommerce":"surecart"===t?n.push({name:"SureCart",slug:"surecart",compulsory:r?.find((e=>"ecommerce"===e.id))?.compulsory}):"woocommerce"===t&&n.push({name:"WooCommerce",slug:"woocommerce",compulsory:r?.find((e=>"ecommerce"===e.id))?.compulsory});break;case"donations":n.push({name:"SureCart",slug:"surecart",compulsory:r?.find((e=>"ecommerce"===e.id))?.compulsory});break;case"automation-integrations":n.push({name:"OttoKit",slug:"suretriggers",compulsory:r?.find((e=>"automation-integrations"===e.id))?.compulsory});break;case"smtp":n.push({name:"Suremail",slug:"suremails",compulsory:r?.find((e=>"smtp"===e.id))?.compulsory});break;case"sure-rank":n.push({name:"SureRank",slug:"surerank",compulsory:r?.find((e=>"sure-rank"===e.id))?.compulsory});break;case"sales-funnels":n.push({name:"CartFlows",slug:"cartflows"}),n.push({name:"Woocommerce Cart Abandonment Recovery",slug:"woo-cart-abandonment-recovery"});break;case"video-player":n.push({name:"Preso Player",slug:"presto-player"});break;case"appointment-bookings":n.push({name:"Latepoint",slug:"latepoint",compulsory:r?.find((e=>"appointment-bookings"===e.id))?.compulsory});break;case"live-chat":n.push({name:"3CX",slug:"wp-live-chat-support",compulsory:r?.find((e=>"live-chat"===e.id))?.compulsory})}})),n},hO=e=>{const t=new FormData;t.append("action","astra-sites-activate_theme"),t.append("_ajax_nonce",aiBuilderVars._ajax_nonce),fetch(ajaxurl,{method:"post",body:t}).then((e=>e.json())).then((t=>{t.success?e({themeStatus:t,importStatus:(0,tt.__)("Astra Theme Installed.","astra-sites")}):e({importError:!0,importErrorMessages:{primaryText:(0,tt.__)("Astra theme activation failed.","astra-sites"),secondaryText:"",errorCode:"",errorText:t.data,solutionText:"",tryAgain:!0}})})).catch((e=>{console.error(e)}))},gO=(e,t)=>{let r=e;"not-installed"===dO&&(r+=5,t({importPercent:r,importStatus:(0,tt.__)("Installing Astra Theme…","astra-sites")}),wp.updates.shouldRequestFilesystemCredentials&&!wp.updates.ajaxLocked&&wp.updates.requestFilesystemCredentials(),wp.updates.installTheme({slug:"astra",ajax_nonce:aiBuilderVars._ajax_nonce}).catch((e=>{var r;console.log(e),t({importError:!0,importErrorMessages:{primaryText:null!==(r=e?.errorMessage)&&void 0!==r?r:(0,tt.__)("Theme installation failed.","astra-sites"),tryAgain:!0}})})),jQuery(document).on("wp-theme-install-success",(function(){t({importStatus:(0,tt.__)("Astra Theme Installed.","astra-sites")}),hO(t)}))),"installed-but-inactive"===dO&&setTimeout((()=>hO(t)),3e3),"installed-and-active"===dO&&t({themeStatus:!0})},vO=(e="",t={})=>{hw.error(er({title:e,message:JSON.stringify(t,null,4)}))},yO=async e=>{const t=new FormData;t.append("action","astra-sites-filesystem_permission"),t.append("_ajax_nonce",aiBuilderVars._ajax_nonce),e({fileSystemPermissions:(await fetch(aiBuilderVars.ajax_url,{method:"POST",body:t}).then((e=>e.json)).catch((e=>vO((0,tt.__)("Failed to check File Permissions","astra-sites"),e)))).data})},bO=async(e,t,r)=>{const n=new FormData;n.append("action","astra-sites-generate-analytics-lead"),n.append("status",t),n.append("try-again-count",e),n.append("type","ai_builder"),n.append("_ajax_nonce",aiBuilderVars._ajax_nonce),Object.entries(r).forEach((([e,t])=>n.append(e,t))),await fetch(ajaxurl,{method:"post",body:n})},{imageDir:xO}=aiBuilderVars,wO={"astra-addon":"astra.svg",cartflows:"cartflows.svg",elementor:"elementor.svg","header-footer-elementor":"uae.svg",latepoint:"latepoint.svg","presto-player":"presto-player.svg","spectra-pro":"spectra.svg",surecart:"surecart.svg",sureforms:"sureforms.svg",suremails:"suremails.svg",surerank:"surerank.svg",suretriggers:"ottokit.svg","ultimate-addons-for-gutenberg":"spectra.svg","ultimate-elementor":"uae.svg","variation-swatches-woo":"variation-swatches-woo.svg",woocommerce:"woocommerce.svg","woocommerce-payments":"woopayments.png","woo-cart-abandonment-recovery":"cartflows-ca.png",wpforms:"wpforms.png","wpforms-lite":"wpforms.png","wp-live-chat-support":"w3x.png"},EO=({pluginsList:e})=>{const[t,r]=(0,i.useState)({});return(0,i.useEffect)((()=>{e?.forEach((({slug:e})=>{var r;t[e]=null!==(r=t?.[e])&&void 0!==r&&r}))}),[e]),e?.length&&(0,n.createElement)("div",{className:"bg-container-background pt-3 pb-2 !max-w-[55rem] w-full mx-auto flex flex-col gap-4 text-left border-[1px] border-solid border-button-disabled rounded"},(0,n.createElement)("div",{className:"px-3 flex flex-col md:flex-row items-start md:items-center gap-2 justify-between"},(0,n.createElement)("p",{className:"text-sm"},(0,tt.__)("The following plugins will be installed and activated for the selected features:","astra-sites")),(0,n.createElement)("p",{className:"!text-xs opacity-90 self-end"},(0,n.createElement)("span",{className:"text-alert-error"},"* "),(0,tt.__)("Required plugins for the website","astra-sites"))),(0,n.createElement)("div",{className:"px-3 flex gap-2 overflow-x-auto plugin-list"},e?.map((({compulsory:e,name:a,slug:o})=>(0,n.createElement)("div",{key:o,className:"px-1.5 py-1 flex items-center gap-0.5 border-[0.5px] border-solid border-button-disabled rounded cursor-pointer"},wO?.[o]&&(0,n.createElement)("div",{className:"relative w-4 h-4"},!t?.[o]&&(0,n.createElement)("div",{className:"absolute inset-0 bg-[#6B7280]/50 rounded animate-pulse"}),(0,n.createElement)("img",{className:"w-4 h-4 transition-opacity duration-200 "+(t?.[o]?"opacity-100":"opacity-0"),src:`${xO}/grayscale/${wO[o]}`,alt:a,onLoad:()=>(e=>{r((t=>({...t,[e]:!0})))})(o)})),(0,n.createElement)("span",{className:"px-1 text-sm font-medium text-[#1F2937] whitespace-nowrap"},a,e&&(0,n.createElement)("span",{className:"text-alert-error"}," *")))))))},_O="fetching",SO="fetched",MO="error",NO=e=>{switch(e){case"surecart":default:return{title:"SureCart",icon:(0,n.createElement)(Tn,{className:"w-3 h-3"})};case"woocommerce":return{title:"WooCommerce",icon:(0,n.createElement)(Dn,{className:"w-3 h-3"})}}},kO=({ecomSupported:e,selectedEcom:t,onChange:r})=>{const{setSiteFeaturesData:a}=(0,et.useDispatch)(xn),[o,s]=(0,i.useState)(!1),l=1===e.length;return(0,n.createElement)("div",{className:"bg-[#F6FAFE] z-50 py-1 px-2 shadow-sm rounded-md items-center justify-center w-fit"},(0,n.createElement)(WC,{width:"w-36",trigger:(0,n.createElement)("div",{className:Gt("flex items-center  cursor-pointer gap-1.5",l?"pointer-events-none":""),onClick:e=>{e.stopPropagation(),s(!o)}},(0,n.createElement)("div",{className:"flex items-center "},NO(t).icon,(0,n.createElement)("div",{className:"ml-2"},(0,n.createElement)("p",{className:"text-xs leading-3 text-app-text"},NO(t).title))),(0,n.createElement)("span",null,!l&&(0,n.createElement)(mj,{className:Gt("w-3 h-3 text-app-active-icon ",o?"transform rotate-180":"")}))),onOpenChange:s},(0,n.createElement)("div",{className:"py-0.5 px-2 mx-auto bg-white rounded-md"},e?.map(((e,t)=>{const{icon:o,title:i}=NO(e);return(0,n.createElement)(WC.Item,{key:t,onClick:t=>((e,t)=>{t.stopPropagation(),r(e),s(!1),a({ecommerce_type:e})})(e,t),className:Gt("flex items-center px-2 py-1 hover:bg-container-background rounded-md cursor-pointer")},(0,n.createElement)("div",{className:"flex items-center"},o,(0,n.createElement)("div",{className:"ml-2"},(0,n.createElement)("p",{className:"text-xs leading-5 text-app-text"},i))))})))))},CO={heart:GA,"squares-plus":qA,funnel:KA,"play-circle":XA,"live-chat":JA,"page-builder":eO,"contact-form":tO,blog:rO,ecommerce:nO,envelope:aO,calendar:oO,"arrow-trending-up":iO},DO=sS((({handleClickStartBuilding:e,isInProgress:t})=>{const{previousStep:r}=EI(),a=aiBuilderVars?.hide_site_features,{setSiteFeatures:o,storeSiteFeatures:s}=(0,et.useDispatch)(xn),{siteFeatures:u,loadingNextStep:d}=(0,et.useSelect)((e=>{const{getSiteFeatures:t,getLoadingNextStep:r}=e(xn);return{siteFeatures:t(),loadingNextStep:r()}}),[]),{stepsData:{selectedTemplate:p,templateList:f,selectedTemplateIsPremium:m,pageBuilder:h}}=(0,et.useSelect)((e=>{const{getAIStepData:t}=e(xn);return{stepsData:t()}}),[]),g=f.find((e=>e.uuid===p)),[v,y]=(0,i.useMemo)((()=>[g?.features_data?.ecommerce_supported||[],g?.features_data?.ecommerce_type]),[]),[b,x]=(0,i.useState)(y),[w,E]=(0,i.useState)(_O),_=e=>()=>{e.compulsory&&e.enabled||(o(e.id),s(u.map((t=>t.id===e.id?{...t,enabled:!t.enabled}:t))))};(0,i.useEffect)((()=>{u?.length>0?(s(u),E(SO)):w===_O&&(async()=>{const e=await ir()({path:"zipwp/v1/site-features",method:"GET",headers:{"X-WP-Nonce":aiBuilderVars.rest_api_nonce}});if(e?.success)return s(e.data.data),E(SO);E(MO)})()}),[]);const S=(0,i.useMemo)((()=>w===SO?u?.filter((e=>!a?.includes(e.id))):[]),[u,a,w]),M=({skipFeature:t=!1})=>{const r=e(t);r();},N=(0,i.useMemo)((()=>{var e,t;const r=null!==(e=u?.filter((e=>e.enabled)).map((e=>e.id)))&&void 0!==e?e:[];return[{name:"elementor"===h?"Elementor":"Spectra",slug:"elementor"===h?"elementor":"ultimate-addons-for-gutenberg",compulsory:!0},{name:"SureForms",slug:"sureforms",compulsory:u?.find((e=>"contact-form"===e.id))?.compulsory},...null!==(t=mO(r,b,u))&&void 0!==t?t:[]]}),[w,u,b]);return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(dC,{className:"grid grid-cols-1 gap-[26px] auto-rows-auto !max-w-[55rem] w-full mx-auto"},(0,n.createElement)(pC,null),(0,n.createElement)("div",{className:"space-y-4"},(0,n.createElement)(PN,{heading:(0,tt.__)("Select features","astra-sites"),subHeading:(0,tt.__)("Select the features you want on this website","astra-sites"),className:"leading-9",subClassName:"!mt-2"})),(0,n.createElement)("div",{className:"grid grid-cols-1 lg:grid-cols-2 auto-rows-auto gap-7 w-full"},w===SO&&S.map((e=>{const t="ecommerce"===e.id,r=CO?.[e.icon];return(0,n.createElement)("div",{key:e.id,className:Gt("relative py-4 pl-4 pr-5 rounded-md shadow-sm border border-solid bg-white border-button-disabled transition-colors duration-150 ease-in-out",e.enabled&&"border-accent-st","cursor-pointer"),"data-disabled":d,onClick:_(e)},(0,n.createElement)("div",{className:"flex items-start justify-start gap-3"},(0,n.createElement)("div",{className:"p-0.5 shrink-0"},r&&(0,n.createElement)(r,{className:"text-zip-body-text w-7 h-7"}),!r&&(0,n.createElement)(sO,{className:"text-zip-body-text w-7 h-7"})),(0,n.createElement)("div",{className:"space-y-1 mr-0 w-full"},(0,n.createElement)("p",{className:"p-0 m-0 !text-base !font-semibold !text-zip-app-heading"},e.title),(0,n.createElement)("div",{className:"flex justify-between items-start w-full"},(0,n.createElement)("p",{className:"p-0 m-0 !text-sm !font-normal !text-zip-body-text"},e.description),(0,n.createElement)("div",{onClick:e=>e.stopPropagation()},t&&(0,n.createElement)(kO,{ecomSupported:v,selectedEcom:b,onChange:x}))))),(0,n.createElement)("span",{className:Gt("inline-flex absolute top-4 right-4 p-[0.15rem] border border-solid border-zip-app-inactive-icon rounded",e.enabled&&"border-accent-st bg-accent-st",e.compulsory&&"border-button-disabled bg-button-disabled")},(0,n.createElement)(Je,{className:"w-2.5 h-2.5 text-white",strokeWidth:4})))})),w===_O&&Array.from({length:Object.keys(CO).length}).map(((e,t)=>(0,n.createElement)("div",{key:t,className:"relative py-4 pl-4 pr-5 rounded-md shadow-sm border border-solid bg-white border-button-disabled"},(0,n.createElement)("div",{className:"flex items-start justify-start gap-3"},(0,n.createElement)("div",{className:"p-0.5 shrink-0"},(0,n.createElement)("div",{className:"w-7 h-7 bg-gray-200 rounded animate-pulse"})),(0,n.createElement)("div",{className:"space-y-1 w-full"},(0,n.createElement)("div",{className:"w-3/4 h-6 bg-gray-200 rounded animate-pulse"}),(0,n.createElement)("div",{className:"w-1/2 h-5 bg-gray-200 rounded animate-pulse"}))),(0,n.createElement)("span",{className:"inline-flex absolute top-4 right-4 w-4 h-4 bg-gray-200 animate-pulse rounded"}),(0,n.createElement)("div",{className:"absolute inset-0 cursor-pointer"}))))),w===MO&&(0,n.createElement)("div",{className:"flex items-center justify-center w-full px-5 py-5"},(0,n.createElement)("p",{className:"text-secondary-text text-center px-10 py-5 border-2 border-dashed border-border-primary rounded-md"},(0,tt.__)("Something went wrong. Please try again later.","astra-sites"))),w===SO?(0,n.createElement)(EO,{pluginsList:N}):(0,n.createElement)("hr",{className:"!border-border-tertiary border-b-0 w-full"}),(0,n.createElement)(zN,{continueButtonText:(0,tt.__)("Start Building","astra-sites"),onClickPrevious:r,onClickContinue:M,onClickSkip:()=>M({skipFeature:!0}),loading:t,skipButtonText:(0,tt.__)("Skip & Start Building","astra-sites")})))}));function TO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?TO(Object(r),!0).forEach((function(t){AO(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function AO(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return IO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?IO(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IO(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var LO=(0,n.createContext)(),PO=function(){var e=(0,n.useContext)(LO),t=e.id,r=e.unit,a=e.number,i=e.counter,s=e.textPosition,l=e.fontSize,c=e.fontWeight,u=e.fontColor;return a?o().createElement("text",{x:"50%",y:"50%",fontSize:l,fontWeight:c,fill:u,textAnchor:"middle",dy:s},o().createElement("tspan",{className:"circular-percent-".concat(t)},i),o().createElement("tspan",{className:"circular-unit-".concat(t)},r)):null},zO=function(){var e=(0,n.useContext)(LO),t=e.stroke,r=e.fill,a=e.round,i=e.inverse,s=e.strokeBottom,l=e.cut,c=e.rotation,u=e.colorCircle,d=e.strokeDasharray,p=264-2.64*(100-l);return o().createElement("circle",{cx:"50",cy:"50",r:"42",shapeRendering:"geometricPrecision",fill:r,style:{transform:"rotate(".concat(c,"deg)"),transformOrigin:"50% 50%"},stroke:u,strokeWidth:s||t,strokeLinecap:a&&!d?"round":"butt",strokeDashoffset:i?-p:p,strokeDasharray:l?264:d})},FO=function(e){var t=e.children,r=(0,n.useContext)(LO),a=r.id,i=r.size,s=r.counter;return o().createElement("svg",{role:"progressbar",width:i,height:i,"data-index":a,viewBox:"0 0 100 100","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":s,"aria-labelledby":"circular progress bar"},t)},RO=function(e){var t=e.index,r=(0,n.useContext)(LO).linearGradient,a=-100,i="linear-gradient-".concat(t);return o().createElement("defs",null,o().createElement("linearGradient",{id:i},r.map((function(e,t){return a+=100,o().createElement("stop",{key:t,offset:a/(r.length-1)+"%",stopColor:e})}))))},BO=function(){var e=(0,n.useContext)(LO),t=e.id,r=e.rotation,a=e.linearGradient,i=e.animationSmooth,s=e.inverse,l=e.counter,c=e.stroke,u=e.round,d=e.cut,p=e.colorSlice,f=void 0!==a?"url(#linear-gradient-".concat(t||0,")"):p,m=void 0!==i?{transition:"stroke-dashoffset ".concat(i)}:"";return o().createElement(o().Fragment,null,a&&o().createElement(RO,{index:t,linearGradient:a}),o().createElement("circle",{cx:"50%",cy:"50%",r:"42",shapeRendering:"geometricPrecision",fill:"none",style:jO({transform:"rotate(".concat(r,"deg)"),transformOrigin:"50% 50%"},m),stroke:f,strokeWidth:c,strokeLinecap:u?"round":"butt",strokeDashoffset:function(e,t,r){var n=264-e/100*(t?2.64*(100-t):264);return r?-n:n}(l,d,s),strokeDasharray:264}))},UO=xg().bool,VO=xg().number,WO=xg().string,HO=xg().array,$O={percent:VO.isRequired,colorSlice:WO,colorCircle:WO,round:UO,opacity:VO,number:UO,size:VO,speed:VO,cut:VO,rotation:VO,unit:WO,textPosition:WO,fontSize:WO,fill:WO,fontWeight:VO,stroke:VO,strokeBottom:VO,strokeDasharray:WO,fontColor:WO,linearGradient:HO},YO=function(e){var t=e.children,r=e.percent,a=e.speed,i=e.animationOff,s=OO((0,n.useState)(i?r:0),2),l=s[0],c=s[1],u=(0,n.useRef)(),d=function(e){var t=OO((0,n.useState)(!1),2),r=t[0],a=t[1];return(0,n.useEffect)((function(){var t=new IntersectionObserver((function(e){var t=OO(e,1)[0];t.intersectionRatio>=.5&&a(t.isIntersecting)}),{root:null,rootMargin:"0px",threshold:.5});return e&&e.current&&t.observe(e.current),function(){t.disconnect()}}),[e]),r}(u);(0,n.useEffect)((function(){var e,t;if(d)if(i)c(r);else{var n=Number(null===(e=u.current)||void 0===e||null===(t=e.dataset)||void 0===t?void 0:t.angel);if(!(r>100||r<0||n===r)){var o,s=1e3/a,l=performance.now();return o=requestAnimationFrame((function e(t){o=requestAnimationFrame(e);var a=t-l;a>=s-.1&&(l=t-a%s,n>r&&c((function(e){return e-1})),n<r&&c((function(e){return e+1})))})),function(){return cancelAnimationFrame(o)}}}}),[l,i,a,d,r]);var p,f,m,h=jO(jO({},e),{},{counter:l});return o().createElement("div",{ref:u,style:(p=e,f=p.styles,m=p.size,jO(jO({},f),{},{width:m,height:m})),"data-angel":l},o().createElement(LO.Provider,{value:h},t,o().createElement(FO,null,e.colorCircle&&o().createElement(zO,null),o().createElement(BO,null),o().createElement(PO,null))))};YO.propTypes=$O,YO.defaultProps={id:0,colorSlice:"#00a1ff",round:!1,number:!0,stroke:10,opacity:10,size:200,speed:1e3,cut:0,rotation:-90,unit:"%",textPosition:".35em",fontSize:"1.6rem",fontColor:"#000",fill:"none",fontWeight:400};const ZO=({onClickNext:e})=>{const{importPercent:t,builder:r,importStatus:a,importError:o}=(0,et.useSelect)((e=>{const{getImportSiteProgressData:t}=e(xn);return{...t()}}),[]),{updateImportAiSiteData:s}=(0,et.useDispatch)(xn);return(0,i.useEffect)((()=>{if(100!==t||o)return;const n=localStorage.getItem("st-import-start"),a=localStorage.getItem("st-import-end"),i=a-n,l=Math.floor(i/1e3),c=n&&a?(e=>{const t=Math.floor(e/60/60),r=Math.floor(e/60)-60*t,n=e%60;return r?r+"."+n:"0."+n})(l):0;s({confettiDone:!0,importTimeTaken:{time:c,type:c>1?"minutes":"seconds",themeName:"fse"!==r?"@AstraWP":"@WPSpectra"}}),e()}),[t,a,o]),(0,n.createElement)("div",{className:"ist-import-progress ist-ai mt-0"},(0,n.createElement)("div",{className:"ist-import-progress-info my-0"}),(0,n.createElement)("div",{className:"ist-import-progress-info my-0"},(0,n.createElement)("div",{className:"ist-import-progress-info-text"},(0,n.createElement)("span",{className:"import-status-string"},(0,n.createElement)("p",{className:"text-sm font-normal sm:text-left text-center"},a+(0,Qn.decodeEntities)("&nbsp;"))),(0,n.createElement)("div",{className:"import-done-section"}))))},QO={complete:{posts:0,media:0,users:0,comments:0,terms:0},updateDelta(e,t){this.complete[e]+=t;const r=this;requestAnimationFrame((function(){r.render()}))},updateProgress(e,t,r,n,a){"undefined"!==e&&"undefined"!=t+"/"+r&&((0===(r=parseInt(r))||isNaN(r))&&(r=1),parseInt(t)/r*100<=100&&"function"==typeof n&&(n({type:"set",importStatus:(0,tt.__)("Importing Content…","astra-sites")}),n({type:"set",importPercent:(a+=5)>=90?90:a})))},render(e,t){const r=Object.keys(this.complete);let n=0,a=0;for(let o=r.length-1;o>=0;o--){const i=r[o];this.updateProgress(i,this.complete[i],this.data.count[i],e,t),n+=this.complete[i],a+=this.data.count[i]}this.updateProgress("total",n,a,e,t)}},GO=({error:e,websiteInfo:t,tryAgainCallback:r,renderHeader:a})=>{var o,i,s;return(0,n.createElement)("div",{className:"relative grid grid-cols-1 grid-rows-1 place-items-center py-5 md:py-0 px-5 md:px-10 bg-app-light-background "},(0,n.createElement)("div",{className:"w-full max-w-[32.5rem] p-8 my-10 md:my-0 rounded-lg space-y-6 shadow-xl bg-white"},a||(0,n.createElement)("div",{className:"space-y-4"},(0,n.createElement)("h2",null,(0,tt.__)("Oops.. Something went wrong","astra-sites")," ","😕"),(0,n.createElement)("div",{className:"text-base !font-semibold leading-6 !mt-5"},(0,tt.__)("What happened?","astra-sites")),(0,n.createElement)("div",{className:"text-app-text text-base font-normal leading-6"},(0,tt.__)("Importing site content has failed. The import process was interrupted.","astra-sites")),(0,n.createElement)("div",{className:"text-app-text text-base !font-semibold leading-6"},(0,tt.__)("Additional technical information from console:","astra-sites")),(0,n.createElement)("div",{className:"text-app-text text-base font-normal leading-6 bg-gray-100 p-4 max-h-[250px] max-w-full overflow-auto"},(0,n.createElement)("p",null,e.primaryText),(0,n.createElement)("p",null,e.errorText))),(0,n.createElement)("div",{className:"items-center gap-3 justify-center mt-4"},(0,n.createElement)(cr,{onClick:()=>{r()},variant:"primary",size:"l",className:"w-full min-h-[48px] mt-3"},(0,n.createElement)("div",{className:"flex items-center justify-center gap-2"},(0,tt.__)("Click here to try again","astra-sites"),(0,n.createElement)(nr,{className:"w-5 h-5"}))),(0,n.createElement)(cr,{onClick:()=>{const e=new FormData;e.append("action","astra-sites-change-page-builder"),e.append("_ajax_nonce",aiBuilderVars._ajax_nonce),e.append("page_builder","gutenberg"),fetch(ajaxurl,{method:"post",body:e}),window.location.href=aiBuilderVars.dashboard_url},variant:"white",size:"l",className:"w-full min-h-[48px] mt-3"},(0,n.createElement)("div",{className:"flex items-center justify-center gap-2"},(0,tt.__)("Exit to Dashboard","astra-sites"))),(0,n.createElement)("a",{href:(i=t?.uuid,s=null!==(o=e?.errorText)&&void 0!==o?o:"",`${qn}&template-id=${i}&subject=${s}`),className:"group flex items-center justify-center mt-6 text-base",target:"_blank",rel:"noopener noreferrer"},(0,tt.__)("Contact Support","astra-sites")))))},{migrateSvg:qO,reportError:KO}=aiBuilderVars,XO=8e3,JO=[(0,tt.__)("Double-checking for grammar and spelling errors…","astra-sites"),(0,tt.__)("Finalizing setup and configurations…","astra-sites"),(0,tt.__)("Crossing the t's and dotting the i's…","astra-sites"),(0,tt.__)("Reviewing for any last-minute tweaks…","astra-sites"),(0,tt.__)("Almost there! Just a few more finishing touches…","astra-sites"),(0,tt.__)("Your website is almost ready.","astra-sites"),(0,tt.__)("It's taking longer than usual. Please bear with us!","astra-sites")];function*eI(){let e=0;for(;;)yield JO[e++%JO.length]}var tI=r(1359),rI=r.n(tI);const nI={position:"fixed",pointerEvents:"none",width:"100%",height:"100%",top:0,left:0},aI=(e,t)=>{return{startVelocity:30,spread:360,ticks:60,zIndex:0,particleCount:150,origin:{x:(r=e,n=t,Math.random()*(n-r)+r),y:Math.random()-.2}};var r,n};function oI(){const e=(0,i.useRef)(null),[t,r]=(0,i.useState)(),a=(0,i.useCallback)((({confetti:t})=>{e.current=t}),[]),o=(0,i.useCallback)((()=>{e.current&&(e.current(aI(.1,.3)),e.current(aI(.7,.9)))}),[]),s=(0,i.useCallback)((()=>{t||(r(setInterval(o,400)),setTimeout((()=>{l()}),5e3))}),[t,o]),l=(0,i.useCallback)((()=>{clearInterval(t),r(null)}),[t]);return(0,i.useEffect)((()=>{s()}),[]),(0,i.useEffect)((()=>()=>{clearInterval(t)}),[t]),(0,n.createElement)(rI(),{onInit:a,style:nI,useWorker:!0,resize:!0})}const{adminUrl:iI,siteUrl:sI,hideDashboardButton:lI,hideFinishSetupButton:cI}=aiBuilderVars,uI=!!aiBuilderVars?.skipFeatures,dI=[{path:"/",component:()=>{const{nextStep:e}=EI();return(0,i.useEffect)((()=>{e()}),[]),(0,n.createElement)("div",{className:"flex-1 w-full bg-container-background"},(0,n.createElement)(LN,null),(0,n.createElement)("div",{className:"flex w-full mt-7 md:mt-14 lg:mt-28"},(0,n.createElement)("div",{className:"gap-10 lg:gap-16 flex-wrap lg:flex-nowrap h-full flex items-center justify-center w-full px-8 lg:px-10"},(0,n.createElement)("div",{className:"flex flex-col items-start justify-center gap-6 order-2 lg:order-1 h-full"},(0,n.createElement)("h1",{className:"font-semibold"},(0,tt.__)("Building a website has never been this easy!","astra-sites")),(0,n.createElement)("p",{className:" m-0 !text-zip-body-text !text-xl !font-normal"},(0,tt.__)("Here is how the AI Website Builder works:","astra-sites")),(0,n.createElement)("ul",{className:"list-decimal ml-6 my-0 !text-zip-body-text font-normal space-y-1.5"},(0,n.createElement)("li",{className:"text-start text-xl"},(0,tt.__)("Create a free account on ZipWP platform.","astra-sites")),(0,n.createElement)("li",{className:"text-start text-xl"},(0,tt.__)("Describe your dream website in your own words.","astra-sites")),(0,n.createElement)("li",{className:"text-start text-xl"},(0,tt.__)("Watch as AI crafts your WordPress website instantly.","astra-sites")),(0,n.createElement)("li",{className:"text-start text-xl"},(0,tt.__)("Refine the website with an easy drag & drop builder.","astra-sites")),(0,n.createElement)("li",{className:"text-start text-xl"},(0,tt.__)("Launch.","astra-sites"))),(0,n.createElement)("div",{className:"gap-6 mt-4 mb-10 flex flex-col items-start justify-start"},(0,n.createElement)(cr,{className:"bg-accent-st-secondary text-white",variant:"blank",hasSuffixIcon:!0,onClick:()=>{e()}},(0,n.createElement)("span",{className:"mr-2"},(0,tt.__)("Let's Get Started. It's Free","astra-sites")),(0,n.createElement)(nr,{className:"w-5 h-5"})),(0,n.createElement)("button",{className:"flex items-center justify-start gap-2 w-auto p-0 m-0 focus:outline-none bg-transparent border-0 cursor-pointer !text-zip-body-text",onClick:()=>{window.location.href=aiBuilderVars.adminUrl+"themes.php?page=starter-templates"}},(0,n.createElement)($M,{className:"w-5 h-5 text-zip-body-text"}),(0,n.createElement)("span",null,(0,tt.__)("Back","astra-sites"))))),(0,n.createElement)("div",{className:"self-center scale-[0.8] md:scale-100 order-1 lg:order-2"},(0,n.createElement)(YM,null)))))},layoutConfig:{hideHeader:!0,hideCloseIcon:!0,hideStep:!0,hideCredits:!0},requiredStates:[]},{path:"/lets-start",component:()=>{const{nextStep:e}=EI(),{setSiteLanguageListAIStep:t,setWebsiteNameAIStep:r}=(0,et.useDispatch)(xn),{businessType:a,siteLanguageList:o,businessName:s}=(0,et.useSelect)((e=>{const{getAIStepData:t}=e(xn);return t()}));(0,i.useEffect)((()=>{o?.length||(async()=>{try{const e=await ir()({path:"zipwp/v1/site-languages",method:"GET",headers:{"X-WP-Nonce":aiBuilderVars.rest_api_nonce}});if(!e.success)throw new Error(e?.data?.data);t(e?.data?.data)}catch(e){hw.error(er(e))}})()}),[o]);const{register:l,formState:{errors:c},reset:u,setFocus:d,watch:p}=Xk({defaultValues:{businessName:s}}),f=p("businessName");return(0,i.useEffect)((()=>{d("businessName")}),[d]),(0,i.useEffect)((()=>{s||u({businessName:""})}),[s]),(0,n.createElement)(dC,null,(0,n.createElement)(pC,null),(0,n.createElement)(PN,{heading:(0,tt.__)("Let's build your website!","astra-sites"),subHeading:(0,tt.__)("Please share some basic details of the website to get started.","astra-sites"),className:"leading-[26px]"}),(0,n.createElement)("div",{className:"w-full max-w-container flex flex-col mt-[2.2rem]"},(0,n.createElement)("div",{className:"!space-y-2"},(0,n.createElement)("h5",{className:"text-sm flex font-medium leading-6 items-center !mb-2 zw-sm-medium"},(0,tt.__)("Name of the website:","astra-sites"),(0,n.createElement)("span",{className:"text-alert-error"}," *")),(0,n.createElement)(uC,{className:"w-full shadow-sm",name:"businessName",placeholder:(0,tt.__)("Enter name or title of the website","astra-sites"),inputClassname:"p-0",register:l,maxLength:100,validations:{required:(0,tt.__)("Name is required","astra-sites"),maxLength:100},error:c.businessName,height:"[40px]"})),(0,n.createElement)("div",{className:"w-full items-center justify-center sm:flex sm:flex-wrap max-mobile:space-y-5 gap-8 mt-8 lg:grid grid-cols-[55%_45%] px-4 max-tablet:px-0 items-start"},(0,n.createElement)("div",{className:"flex-1 min-h-[48px]  md:min-w-0"},(0,n.createElement)("label",{className:"zw-sm-medium text-app-heading",htmlFor:"input-business-type"},(0,tt.__)("This website is for","astra-sites"),":",(0,n.createElement)("span",{className:"text-alert-error"}," *")),(0,n.createElement)(sC,null)),(0,n.createElement)(BN,null))),(0,n.createElement)(IM,null),(0,n.createElement)(zN,{onClickContinue:()=>{a&&""!==a&&(r(f),e())},disableContinue:!a||!f}))},layoutConfig:{stepNumber:1,name:(0,tt.__)("Let's Start","astra-sites"),description:(0,tt.__)("Name, language & type","astra-sites"),screen:"type",hideCredits:!1},requiredStates:["businessType","businessName"]},{path:"/description",component:()=>{const{nextStep:e,previousStep:t}=EI(),{businessDetails:r,businessType:a,businessName:o,siteLanguage:s,descriptionListStore:l}=(0,et.useSelect)((e=>{const{getAIStepData:t}=e(xn);return t()})),c=(null!=a?a:"")?.trim()?.replaceAll(" ","-")?.toLowerCase(),u=(0,et.useSelect)((e=>{const{getOnboardingAI:t}=e(xn);return t()})),{loadingNextStep:d}=u,{setWebsiteDetailsAIStep:p,setWebsiteKeywordsAIStep:f,resetKeywordsImagesAIStep:m,setOnboardingAIDetails:h}=(0,et.useDispatch)(xn),[g,v]=(0,i.useState)(!1),[y,b]=(0,i.useState)(!1),x=(0,i.useRef)(r),w=(0,i.useRef)(null),{register:E,handleSubmit:_,formState:{errors:S},watch:M,setValue:N,setFocus:k}=Xk({defaultValues:{businessDetails:r}}),C=M("businessDetails"),D=async()=>{try{return _C({businessName:o,businessType:a,formBusinessDetails:C,siteLanguage:s})}catch(e){console.log(e)}},T="{{STYLED_TEXT}}",j=()=>{const e=A[c]?.questionFormat||A.unknown.questionFormat,t=(0,tt.sprintf)(e,T).split(T);return(0,n.createElement)(n.Fragment,null,t[0],(0,n.createElement)(yC,{text:o}),t[1])},A={business:{questionFormat:/* translators: %s: business name */ /* translators: %s: business name */
